<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blueprint for a Perpetual Resilience System</title>
    <link rel="icon" type="image/png" sizes="32x32" href="https://i.ibb.co/1ttP0zLs/quantum.png">
    <link rel="icon" type="image/png" sizes="192x192" href="https://i.ibb.co/1ttP0zLs/quantum.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutral & Deep Blue -->
    <!-- Application Structure Plan: The SPA is organized into six thematic sections accessible via a fixed top navigation bar: Overview, Power, Bastion, Sanctum, AI Core, and Economics. This structure breaks the dense report into logical, digestible pillars, allowing users to explore non-linearly based on interest. This is more user-friendly than a single long scroll, as it segments complex topics into focused interactive dashboards. Key interactions include dynamic charts for comparison (Power, Economics), interactive diagrams for explaining complex defenses (Bastion, Sanctum), and clickable flowcharts for processes (AI Core), all designed to make the technical information engaging and understandable. -->
    <!-- Visualization & Content Choices: 
        1. Power System: Goal: Compare Thorium vs. Uranium. Viz: Bar Chart. Interaction: Hover for tooltips. Justification: Direct, quantifiable comparison of key advantages. Library: Chart.js.
        2. Physical Bastion: Goal: Organize threat responses. Viz: Interactive Diagram (HTML/CSS). Interaction: Buttons to switch between threat scenarios (Seismic, Blast, Flood). Justification: Visually connects threats to specific engineering solutions in a more engaging way than a static table.
        3. Hermetic Sanctum: Goal: Explain layered defense. Viz: Cross-section Diagram (HTML/CSS). Interaction: Hover over layers to reveal details. Justification: Intuitively communicates the multi-layered protection concept.
        4. AI Core: Goal: Explain the autonomous response process. Viz: Clickable Flowchart (HTML/CSS). Interaction: Click stages to expand details. Justification: Simplifies a complex 5-stage process, preventing information overload.
        5. Economics: Goal: Inform on financial viability. Viz: Grouped Bar Chart & Line Chart. Interaction: Tooltips, potential toggles. Justification: Effectively presents cost breakdown and demonstrates the economic benefit of modularity (FOAK vs. NOAK). Library: Chart.js.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #ff990033; /* Warm off-white */
            color: #383838;
        }
        .nav-item {
            @apply px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-stone-200 hover:text-gray-900 transition-colors cursor-pointer;
        }
        .nav-item.active {
            @apply bg-stone-800 text-white hover:bg-stone-700;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .card {
            @apply bg-white p-6 rounded-xl shadow-lg border border-stone-200;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            height: 320px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .threat-button {
            @apply w-full text-left px-4 py-3 rounded-lg border-2 border-transparent transition-all duration-300;
        }
        .threat-button.active {
            @apply bg-stone-100 border-stone-800 shadow-md;
        }
        .shielding-layer {
            @apply w-full flex items-center justify-center text-center font-semibold text-white transition-all duration-200 cursor-pointer;
        }
        .aisa-stage {
            @apply w-full p-4 border-l-4 cursor-pointer transition-colors duration-200 hover:bg-stone-50;
        }
        .aisa-stage.active {
            @apply border-blue-800 bg-blue-50;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-stone-100/80 backdrop-blur-md sticky top-0 z-50 border-b border-stone-200">
        <nav class="max-w-7xl mx-auto px-4 bg-black p-4 rounded-lg sm:px-6 lg:px-8">
            <div class="flex items-center  justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold text-stone-800">Resilience Blueprint</h1>
                </div>
                <div class="hidden md:block">
                    <div id="nav-container" class="ml-10 flex  items-baseline space-x-4">
                        <button><a data-target="overview" class="nav-item active">Overview</a></button>
                        <button><a data-target="power" class="nav-item">Perpetual Power</a></button>
                        <button><a data-target="bastion" class="nav-item">The Bastion</a></button>
                        <button><a data-target="sanctum" class="nav-item">The Sanctum</a></button>
                        <button><a data-target="ai-core" class="nav-item">Intelligent Core</a></button>
                        <button><a data-target="economics" class="nav-item">Economics</a></button>
                    </div>
                </div>
                 <div class="md:hidden">
                    <select id="mobile-nav" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        <button><option value="overview">Overview</option></button>
                        <button><option value="power">Perpetual Power</option></button>
                        <button><option value="bastion">The Bastion</option></button>
                        <button><option value="sanctum">The Sanctum</option></button>
                        <button><option value="ai-core">Intelligent Core</option></button>
                        <button><option value="economics">Economics</option></button>
                    </select>
                </div>
            </div>
        </nav>
    </header>

    <main class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
        
        <!-- Overview Section -->
        <section id="overview" class="content-section active animate-fade-in">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-extrabold text-stone-900 sm:text-4xl">A Multi-Vector Approach to Perpetual Resilience</h2>
                <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">This blueprint outlines a self-sustaining, post-apocalyptic infrastructure by synthesizing established technologies across nuclear engineering, structural design, environmental control, and autonomous systems to create a resilient, self-correcting, and perpetual entity.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="card">
                    <h3 class="text-lg font-bold text-stone-800">Perpetual Power</h3>
                    <p class="mt-2 text-gray-600">Utilizing a Thorium-based Molten Salt Reactor for a safe, abundant, and self-sustaining power source with inherent safety features.</p>
                </div>
                <div class="card">
                    <h3 class="text-lg font-bold text-stone-800">Physical Bastion</h3>
                    <p class="mt-2 text-gray-600">A subterranean structure engineered with advanced materials to withstand cataclysmic seismic, blast, and hydrological forces.</p>
                </div>
                <div class="card">
                    <h3 class="text-lg font-bold text-stone-800">Hermetic Sanctum</h3>
                    <p class="mt-2 text-gray-600">An unbreachable environmental barrier providing multi-layered protection from radiation, contaminants, and external threats.</p>
                </div>
                <div class="card">
                    <h3 class="text-lg font-bold text-stone-800">Intelligent Core</h3>
                    <p class="mt-2 text-gray-600">An autonomous, AI-driven cyber-physical system that monitors, diagnoses, and self-heals with minimal human intervention.</p>
                </div>
                <div class="card">
                    <h3 class="text-lg font-bold text-stone-800">Economic Viability</h3>
                    <p class="mt-2 text-gray-600">A sound financial framework demonstrating long-term value through Life Cycle Cost Analysis and the concept of a "Resilience Dividend."</p>
                </div>
                <div class="card">
                    <h3 class="text-lg font-bold text-stone-800">Conclusion</h3>
                    <p class="mt-2 text-gray-600">The synthesis of these pillars creates a system that is not static, but constantly learning and adapting to ensure perpetual safety and operability.</p>
                </div>
            </div>
        </section>

        <!-- Power Section -->
        <section id="power" class="content-section">
             <div class="text-center mb-12">
                <h2 class="text-3xl font-extrabold text-stone-900 sm:text-4xl">Pillar 1: Perpetual Power</h2>
                <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">The system's foundation is a Molten Salt Thorium Reactor, a Generation IV nuclear technology chosen for its unparalleled safety, fuel abundance, and resistance to proliferation. Unlike traditional reactors, it operates at low pressure and features passive safety mechanisms, making a catastrophic failure virtually impossible.</p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="card">
                    <h3 class="text-xl font-bold text-stone-800 mb-4">Thorium vs. Uranium Fuel Cycle</h3>
                    <p class="mb-4 text-gray-600">Thorium offers significant advantages over the traditional Uranium fuel cycle. It is far more abundant, produces orders of magnitude less long-lived nuclear waste, and its byproducts are not suitable for creating nuclear weapons. The chart below visualizes these key differentiators. Hover over the bars for more details.</p>
                    <div class="chart-container">
                        <canvas id="thoriumChart"></canvas>
                    </div>
                </div>
                <div class="card">
                     <h3 class="text-xl font-bold text-stone-800 mb-4">Inherent Safety of Molten Salt Reactors</h3>
                     <p class="mb-4 text-gray-600">MSRs are designed to be "walk-away safe." Their core safety principles are based on physics, not complex engineered systems that can fail.</p>
                     <div class="space-y-4">
                        <div>
                            <h4 class="font-semibold text-stone-700">Low-Pressure Operation</h4>
                            <p class="text-gray-600">The liquid fuel is not under high pressure, eliminating the risk of a steam explosion, the primary failure mode of conventional pressurized water reactors.</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-stone-700">Passive "Freeze Plug"</h4>
                            <p class="text-gray-600">In a power outage, an actively cooled plug melts, allowing gravity to drain the fuel into a sub-critical drain tank where it passively cools and solidifies, halting the nuclear reaction automatically.</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-stone-700">Proof of Concept: TMSR-LF1</h4>
                            <p class="text-gray-600">China's successful operation of the TMSR-LF1 prototype reactor validates this technology, moving it from theoretical designs of the 1960s to a proven, modern system.</p>
                        </div>
                     </div>
                </div>
            </div>
        </section>
        
        <!-- Bastion Section -->
        <section id="bastion" class="content-section">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-extrabold text-stone-900 sm:text-4xl">Pillar 2: The Physical Bastion</h2>
                <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">The physical structure is a subterranean fortress engineered to survive cataclysmic events. Its design integrates geotechnical principles, advanced materials, and computational modeling to neutralize threats from seismic activity, direct blasts, and extreme flooding. Select a threat below to see the corresponding defense strategy.</p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-start">
                <div class="lg:col-span-1 space-y-4">
                    <button data-threat="seismic" class="threat-button active">
                        <span class="font-bold text-lg">Seismic Events</span>
                        <span class="block text-sm text-gray-600">Defenses against extreme earthquakes.</span>
                    </button>
                    <button data-threat="blast" class="threat-button">
                        <span class="font-bold text-lg">Nuclear Blasts</span>
                        <span class="block text-sm text-gray-600">Survivability against overpressure.</span>
                    </button>
                    <button data-threat="flood" class="threat-button">
                        <span class="font-bold text-lg">Tsunami & Floods</span>
                        <span class="block text-sm text-gray-600">Resilience against massive water ingress.</span>
                    </button>
                </div>
                <div class="lg:col-span-2 card">
                    <div id="threat-content">
                        <!-- Content will be injected by JS -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Sanctum Section -->
        <section id="sanctum" class="content-section">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-extrabold text-stone-900 sm:text-4xl">Pillar 3: The Hermetic Sanctum</h2>
                <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">To ensure a pristine internal environment, the bastion is sealed within an unbreachable barrier. This multi-layered defense is engineered to block all forms of radiation, light, sound, and contaminants, creating a self-contained ecosystem. Hover over the layers in the diagram to explore the components of this shield.</p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-5 gap-8 items-center">
                <div class="lg:col-span-3 h-96 flex flex-col rounded-lg overflow-hidden border-2 border-stone-400">
                    <div id="layer-neutron" data-text="Neutron Shielding: Hydrogen-rich materials like High-Density Polyethylene (HDPE) or borated concrete slow down and absorb fast neutrons, which easily penetrate dense materials." class="shielding-layer h-1/5" style="background-color: #4A5568;">Neutron Shielding</div>
                    <div id="layer-gamma" data-text="Gamma & X-Ray Shielding: High-density materials with high atomic numbers, such as lead, tungsten, or specialized dense concrete, are used to block highly penetrating gamma and X-rays." class="shielding-layer h-1/5" style="background-color: #718096;">Gamma & X-Ray Shielding</div>
                    <div id="layer-uv" data-text="UV Protection: Specialized UV-blocking coatings and intrinsically stable materials like polycarbonate protect surfaces from degradation caused by ultraviolet light, crucial in a potentially ozone-depleted environment." class="shielding-layer h-1/5" style="background-color: #A0AEC0;">UV & Light Barrier</div>
                    <div id="layer-acoustic" data-text="Acoustic & Vibration Isolation: Layers of mass-loaded materials and acoustic metamaterials block sound transmission, while high-damping bearings isolate the structure from external vibrations." class="shielding-layer h-1/5" style="background-color: #CBD5E0;">Acoustic Isolation</div>
                    <div id="layer-seal" data-text="Hermetic Seal & Filtration: An airtight seal, positive air pressure, and a multi-stage HEPA/Carbon filtration system prevent any dust, pathogens, or chemical contaminants from entering." class="shielding-layer h-1/5" style="background-color: #E2E8F0; color: #4A5568;">Hermetic Seal</div>
                </div>
                <div class="lg:col-span-2 card h-96">
                    <h3 class="text-xl font-bold text-stone-800 mb-4">Shielding Layer Details</h3>
                    <div id="shielding-details" class="text-gray-600">
                        <p>Hover over a layer to see details here.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- AI Core Section -->
        <section id="ai-core" class="content-section">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-extrabold text-stone-900 sm:text-4xl">Pillar 4: The Intelligent Core</h2>
                <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">Resilience requires more than physical strength; it demands intelligence. The system operates on an autonomous, self-correcting Cyber-Physical System (CPS) that constantly monitors its own health, predicts failures, and responds to threats. This creates a "self-questioning" entity capable of adaptation and self-preservation.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="md:col-span-1">
                    <h3 class="text-xl font-bold text-stone-800 mb-4">Autonomous Threat Response</h3>
                    <p class="mb-4 text-gray-600">The AI operates on a five-stage architecture for Autonomous Incident Situational Awareness (AISA). Click on each stage to learn more about its function.</p>
                    <div id="aisa-nav" class="space-y-2">
                        <!-- AISA stages will be injected by JS -->
                    </div>
                </div>
                <div class="md:col-span-2 card">
                    <div id="aisa-content">
                        <!-- Content will be injected by JS -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Economics Section -->
        <section id="economics" class="content-section">
             <div class="text-center mb-12">
                <h2 class="text-3xl font-extrabold text-stone-900 sm:text-4xl">Pillar 5: Economic & Strategic Viability</h2>
                <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">A project of this scale is justified by a sophisticated financial framework that considers total lifecycle cost and the immense value of resilience. By quantifying the "Resilience Dividend"‚Äîthe catastrophic costs avoided‚Äîthe system is proven to be a sound strategic investment in long-term societal stability.</p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="card">
                     <h3 class="text-xl font-bold text-stone-800 mb-4">Benefit-Cost Analysis (100-Year Lifecycle)</h3>
                     <p class="mb-4 text-gray-600">This analysis moves beyond initial construction costs to include operational expenses and the monetized value of avoided societal and infrastructure costs. The result is a highly positive benefit-cost ratio.</p>
                    <div class="chart-container">
                        <canvas id="bcaChart"></canvas>
                    </div>
                </div>
                 <div class="card">
                    <h3 class="text-xl font-bold text-stone-800 mb-4">Modularity & Cost Reduction</h3>
                    <p class="mb-4 text-gray-600">Using a Small Modular Reactor (SMR) design, initial "First-of-a-Kind" (FOAK) costs are higher, but subsequent "Nth-of-a-Kind" (NOAK) units see significant cost reductions due to factory fabrication and learning curves, making fleet deployment economically attractive.</p>
                    <div class="chart-container">
                        <canvas id="smrCostChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            const contentSections = document.querySelectorAll('.content-section');
            const navLinks = document.querySelectorAll('.nav-item');
            const mobileNav = document.getElementById('mobile-nav');

            function switchTab(targetId) {
                contentSections.forEach(section => {
                    section.classList.remove('active');
                });
                navLinks.forEach(link => {
                    link.classList.remove('active');
                });

                const targetSection = document.getElementById(targetId);
                const targetLink = document.querySelector(`.nav-item[data-target="${targetId}"]`);
                
                if (targetSection) targetSection.classList.add('active');
                if (targetLink) targetLink.classList.add('active');
                mobileNav.value = targetId;

                // Lazy chart initialization
                if (targetId === 'power' && !window.thoriumChartInstance) initThoriumChart();
                if (targetId === 'economics' && !window.bcaChartInstance) initEconomicsCharts();
            }

            document.getElementById('nav-container').addEventListener('click', (e) => {
                if(e.target.matches('.nav-item')) {
                    const targetId = e.target.getAttribute('data-target');
                    switchTab(targetId);
                }
            });

            mobileNav.addEventListener('change', (e) => {
                switchTab(e.target.value);
            });

            // --- Power Section: Thorium Chart ---
            function initThoriumChart() {
                const ctx = document.getElementById('thoriumChart').getContext('2d');
                window.thoriumChartInstance = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Fuel Abundance', 'High-Level Waste', 'Proliferation Risk'],
                        datasets: [{
                            label: 'Uranium Fuel Cycle',
                            data: [100, 100, 100],
                            backgroundColor: '#A0AEC0',
                            borderColor: '#718096',
                            borderWidth: 1
                        }, {
                            label: 'Thorium Fuel Cycle',
                            data: [400, 1, 1],
                            backgroundColor: '#2D3748',
                            borderColor: '#1A202C',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        indexAxis: 'y',
                        plugins: {
                            title: { display: true, text: 'Normalized Comparison (Uranium = 100)' },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.datasetIndex === 0) {
                                            return label + 'Baseline';
                                        }
                                        const values = ['4x More Abundant', '99% Less Waste', '99% Less Risk'];
                                        return label + values[context.dataIndex];
                                    }
                                }
                            }
                        },
                        scales: {
                            x: { 
                                beginAtZero: true,
                                title: { display: true, text: 'Relative Value (Logarithmic Scale)' },
                                type: 'logarithmic',
                            },
                            y: { grid: { display: false } }
                        }
                    }
                });
            }

            // --- Bastion Section: Threat Interaction ---
            const threatButtons = document.querySelectorAll('.threat-button');
            const threatContent = document.getElementById('threat-content');
            const threatData = {
                seismic: {
                    title: 'Defense Against Seismic Events',
                    icon: '‚õ∞Ô∏è',
                    content: `
                        <p class="mb-4 text-gray-600">The structure is decoupled from ground motion through base isolation and seismic dampening technologies, preventing the transfer of destructive energy.</p>
                        <ul class="space-y-2 list-disc list-inside text-gray-700">
                            <li><strong>Base Isolation:</strong> The facility rests on flexible pads or a sand cushion, allowing the ground to move independently.</li>
                            <li><strong>Seismic Dampers:</strong> Fluidics-based dampers, similar to those on rockets, absorb and dissipate vibrational energy.</li>
                            <li><strong>Ductile Materials:</strong> Structural steel and fiber-reinforced concrete are used for their ability to deform without failing.</li>
                            <li><strong>Modeling:</strong> Finite Element Analysis (FEA) is used to simulate and validate the structural response to peak ground acceleration.</li>
                        </ul>`
                },
                blast: {
                    title: 'Defense Against Nuclear Blast',
                    icon: 'üí•',
                    content: `
                        <p class="mb-4 text-gray-600">A subterranean, spherical design is employed to minimize blast effects, maximize standoff distance, and resist overpressure.</p>
                         <ul class="space-y-2 list-disc list-inside text-gray-700">
                            <li><strong>Subterranean & Spherical:</strong> Underground placement provides a massive earth shield, while a spherical shape deflects and minimizes reflected pressure waves.</li>
                            <li><strong>Standoff Distance:</strong> Maximizing distance from the detonation point is the most effective way to reduce blast intensity.</li>
                            <li><strong>Progressive Collapse Resistance:</strong> The structure is designed so that the failure of one element does not trigger a chain reaction collapse.</li>
                            <li><strong>Modeling:</strong> Computational Fluid Dynamics (CFD) models blast wave propagation, while FEA models the structural response to the pressure load.</li>
                        </ul>`
                },
                flood: {
                    title: 'Defense Against Tsunami & Flooding',
                    icon: 'üåä',
                    content: `
                        <p class="mb-4 text-gray-600">The subterranean core facility is inherently protected, while advanced water management systems prevent ingress and liquefaction.</p>
                         <ul class="space-y-2 list-disc list-inside text-gray-700">
                            <li><strong>Subterranean Core:</strong> The primary infrastructure is located deep underground, safe from the initial wave, debris, and subsequent flooding.</li>
                            <li><strong>Water Management:</strong> Deep shafts, sealed tunnels, and high-capacity drainage systems are engineered to manage extreme water pressure and prevent ingress.</li>
                            <li><strong>Liquefaction Prevention:</strong> Site selection in hard, dense rock and engineered drainage eliminates the risk of soil liquefaction.</li>
                            <li><strong>Modeling:</strong> FEA is used to model the structural integrity of tunnels and seals under immense hydrostatic pressure.</li>
                        </ul>`
                }
            };
            
            function updateThreatContent(threat) {
                const data = threatData[threat];
                threatContent.innerHTML = `
                    <div class="flex items-center mb-4">
                        <span class="text-4xl mr-4">${data.icon}</span>
                        <h3 class="text-xl font-bold text-stone-800">${data.title}</h3>
                    </div>
                    ${data.content}
                `;
                threatButtons.forEach(button => {
                    button.classList.toggle('active', button.dataset.threat === threat);
                });
            }

            threatButtons.forEach(button => {
                button.addEventListener('click', () => updateThreatContent(button.dataset.threat));
            });

            // --- Sanctum Section: Shielding Layers ---
            const shieldingLayers = document.querySelectorAll('.shielding-layer');
            const shieldingDetails = document.getElementById('shielding-details');

            shieldingLayers.forEach(layer => {
                layer.addEventListener('mouseenter', () => {
                    shieldingDetails.innerHTML = `<p class="font-semibold text-stone-700">${layer.textContent}</p><p>${layer.dataset.text}</p>`;
                });
            });

            // --- AI Core Section ---
            const aisaNav = document.getElementById('aisa-nav');
            const aisaContent = document.getElementById('aisa-content');
            const aisaData = [
                { stage: 1, title: 'Anomaly Detection', text: 'Real-time monitoring of all system components using AI/ML models. Deviations from the baseline established by a high-fidelity "digital twin" are instantly flagged as potential anomalies.' },
                { stage: 2, title: 'Threat Prioritization', text: 'An intelligent, context-aware diagnosis system analyzes logs, network traffic, and historical data to determine the root cause of an anomaly, scoring the threat level to prioritize response.' },
                { stage: 3, title: 'Remediation Planning', text: 'Reinforcement Learning (RL) agents generate adaptive mitigation strategies. The AI doesn\'t rely on static scripts; it develops the optimal response for novel and evolving threats in real-time.' },
                { stage: 4, title: 'Autonomous Response', text: 'Automated playbooks execute immediate corrective actions. This can include restarting services, rolling back configurations, isolating compromised components, or rerouting physical system operations.' },
                { stage: 5, title: 'Continuous Learning', text: 'Every resolved incident is logged into an adaptive memory. This feedback loop refines the AI models, improving the accuracy and speed of detection and response for all future events.' },
            ];
            
            aisaData.forEach(item => {
                const stageEl = document.createElement('div');
                stageEl.className = 'aisa-stage';
                stageEl.dataset.stage = item.stage;
                stageEl.innerHTML = `<button><h4 class="font-bold text-stone-800">Stage ${item.stage}: ${item.title}</h4></button>`;
                aisaNav.appendChild(stageEl);
            });

            function updateAisaContent(stageNum) {
                const data = aisaData.find(item => item.stage == stageNum);
                aisaContent.innerHTML = `
                    <h3 class="text-xl font-bold text-stone-800 mb-2">Stage ${data.stage}: ${data.title}</h3>
                    <p class="text-gray-600">${data.text}</p>`;
                
                document.querySelectorAll('.aisa-stage').forEach(el => {
                    el.classList.toggle('active', el.dataset.stage == stageNum);
                });
            }
            
            aisaNav.addEventListener('click', e => {
                const target = e.target.closest('.aisa-stage');
                if(target) {
                    updateAisaContent(target.dataset.stage);
                }
            });

            // --- Economics Section: Charts ---
            function initEconomicsCharts() {
                const bcaCtx = document.getElementById('bcaChart').getContext('2d');
                window.bcaChartInstance = new Chart(bcaCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Cost/Benefit Categories'],
                        datasets: [
                            { label: 'Total Capital Cost (CapEx)', data: [4.4], backgroundColor: '#E53E3E' },
                            { label: 'Total Operating Cost (OpEx)', data: [2.5], backgroundColor: '#DD6B20' },
                            { label: 'Total Avoided Costs (Benefit)', data: [82], backgroundColor: '#38A169' }
                        ]
                    },
                    options: {
                        responsive: true, maintainAspectRatio: false,
                        plugins: { title: { display: true, text: 'Costs vs. Benefits in Billions USD' } },
                        scales: { y: { beginAtZero: true, title: { display: true, text: 'Billions USD' } } }
                    }
                });

                const smrCtx = document.getElementById('smrCostChart').getContext('2d');
                window.smrCostChartInstance = new Chart(smrCtx, {
                    type: 'line',
                    data: {
                        labels: ['1st Unit (FOAK)', '2nd Unit', '3rd Unit', '4th Unit'],
                        datasets: [{
                            label: 'Cost per kW',
                            data: [14600, 12800, 11800, 11800],
                            fill: false,
                            borderColor: '#2D3748',
                            tension: 0.1
                        }]
                    },
                    options: {
                        responsive: true, maintainAspectRatio: false,
                        plugins: { title: { display: true, text: 'Projected SMR Cost Reduction per Unit' } },
                        scales: { y: { beginAtZero: false, title: { display: true, text: 'USD per Kilowatt' } } }
                    }
                });
            }
            
            // --- Initial State ---
            switchTab('overview');
            updateThreatContent('seismic');
            updateAisaContent(1);
        });
    </script>
</body>
</html>
